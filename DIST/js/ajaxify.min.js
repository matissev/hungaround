!function(t){var e=t.History,r=t.jQuery,a=t.document;return e.enabled?(r(function(){var i="#content,article:first,.article:first,.post:first",n=r(i).filter(":first"),c=n.get(0),l=r("#menu,#nav,nav:first,.nav:first").filter(":first"),o="active selected current youarehere",s=".active,.selected,.current,.youarehere",f="> li,> ul > li",d="statechangecomplete",u=r(t),h=r(a.body),g=e.getRootUrl(),p={duration:800,easing:"swing"};0===n.length&&(n=h),r.expr[":"].internal=function(t){var e,a=r(t),i=a.attr("href")||"";return e=i.substring(0,g.length)===g||-1===i.indexOf(":")};var v=function(t){var e=String(t).replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|meta|script)([\s\>])/gi,'<div class="document-$1"$2').replace(/<\/(html|head|body|title|meta|script)\>/gi,"</div>");return r.trim(e)};r.fn.ajaxify=function(){var t=r(this);return t.find("a:internal:not(.no-ajaxy)").click(function(t){var a=r(this),i=a.attr("href"),n=a.attr("title")||null;return 2==t.which||t.metaKey?!0:(e.pushState(null,n,i),t.preventDefault(),!1)}),t},h.ajaxify(),u.bind("statechange",function(){var m=e.getState(),y=m.url,x=y.replace(g,"");h.addClass("loading"),n.animate({opacity:0},800),r.ajax({url:y,success:function(e){var g,m,j,b=r(v(e)),C=b.find(".document-body:first"),w=C.find(i).filter(":first");if(j=w.find(".document-script"),j.length&&j.detach(),m=w.html()||b.html(),!m)return a.location.href=y,!1;g=l.find(f),g.filter(s).removeClass(o),g=g.has('a[href^="'+x+'"],a[href^="/'+x+'"],a[href^="'+y+'"]'),1===g.length&&g.addClass(o),n.stop(!0,!0),n.html(m).ajaxify().css("opacity",100).show(),a.title=b.find(".document-title:first").text();try{a.getElementsByTagName("title")[0].innerHTML=a.title.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(T){}j.each(function(){var t=r(this),e=t.text(),i=a.createElement("script");t.attr("src")&&(t[0].async||(i.async=!1),i.src=t.attr("src")),i.appendChild(a.createTextNode(e)),c.appendChild(i)}),h.ScrollTo&&h.ScrollTo(p),h.removeClass("loading"),u.trigger(d),"undefined"!=typeof t._gaq&&t._gaq.push(["_trackPageview",x]),"undefined"!=typeof t.reinvigorate&&"undefined"!=typeof t.reinvigorate.ajax_track&&reinvigorate.ajax_track(y)},error:function(){return a.location.href=y,!1}})})}),void 0):!1}(window);